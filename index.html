<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feuille de temps</title>
<style>
body{font-family:Arial,sans-serif;background:#f4f6f8;margin:0;padding:20px}
.app{max-width:800px;margin:auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
label{font-weight:bold;margin-right:8px}
input,textarea{padding:6px;margin-top:6px;margin-bottom:12px;width:100%;box-sizing:border-box}
textarea{resize:vertical}
</style>
</head>
<body>
<div class="app">
  <h1>ðŸ¥– Boulangerie des Merveilles â€“ Feuille de temps</h1>
  <div class="bloc-retard">
    <label for="retard">Retard (minutes)</label>
    <input type="number" id="retard" min="0" max="180" placeholder="0">
  </div>
  <div class="bloc-horaires-libres">
    <label><input type="checkbox" id="horairesLibres"> Horaires personnalisÃ©s</label>
    <div id="saisieLibre" style="display:none;">
      <input type="time" id="heureDebutLibre">
      <input type="time" id="heureFinLibre">
    </div>
  </div>
  <div class="bloc-commentaire">
    <label for="commentaire">Commentaire (max 250 caractÃ¨res)</label>
    <textarea id="commentaire" maxlength="250" placeholder="Ex : demande dâ€™horaire, justification, infoâ€¦"></textarea>
    <div id="compteur">0 / 250</div>
  </div>
</div>
<script>
document.getElementById("horairesLibres").addEventListener("change", e => {
  document.getElementById("saisieLibre").style.display = e.target.checked ? "block" : "none";
});
const commentaireEl = document.getElementById("commentaire");
const compteur = document.getElementById("compteur");
commentaireEl.addEventListener("input", () => {
  compteur.textContent = `${commentaireEl.value.length} / 250`;
});
function getRetard() {
  const r = document.getElementById("retard").value;
  return r ? parseInt(r, 10) : 0;
}
function getHoraires() {
  if (document.getElementById("horairesLibres").checked) {
    return {
      debut: document.getElementById("heureDebutLibre").value,
      fin: document.getElementById("heureFinLibre").value,
      type: "libre"
    };
  }
  return { type: "predefini" };
}
</script>
</body>
</html>
